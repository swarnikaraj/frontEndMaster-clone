<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link
    href="https://fonts.googleapis.com/css2?family=Asap&family=Festive&family=Open+Sans:wght@400;500&family=Pacifico&display=swap"
    rel="stylesheet">


  <style>

    #learn_path_div{margin: auto; border:2px solid green}
    .in_circle {
      width: 180px;
      height: 180px;
      border-radius: 50%;
      background-color: rgb(56, 56, 56);
      margin: auto;
      margin-top:18px ;
      text-align: center;
    }

    .in_circle>p{margin-top: 35%; font-size: 40px;}

    .out_circle {
      width: 220px;
      height: 220px;
      border-radius: 50%;
      background-color: rgb(112, 112, 112);
      margin: auto;
    }

    body {
      background-color: rgb(31, 31, 31);
      color: white;
      font-family: 'Open Sans', sans-serif;

    }

    .head_learn>h1 {

      font-size: 36px;
      font-weight: 600;
      line-height: 54px;


    }

    .head_learn>h4 {

      font-size: 16px;
      font-weight: 400;
      line-height: 24px;


    }

    .center_div {
      margin: auto;
      text-align: center;
    }

    div {
      border: 1px solid red
    }

    body>div {
      width:900px;
      margin: auto;
    }


    #lp_parent {
      display: grid;
      grid-template-columns: 31% 31% 31%;
      grid-gap: 3.7%
    }

    #lp_parent>div {
      background-color: rgb(56, 56, 56);
      height: 500px;
      text-align: center;
      padding-top: 20px;
    }

    #lp_parent>div>.cont {
      text-align: center;
      margin: auto;
      margin-top: 79px;
    }



    #lp_parent>div>div>button {
      background-color: rgb(198, 53, 40);
      border-color:rgb(198, 53, 40) ;
      color: white;
      font-size: 14px;
      font-weight: 400;
      font-family: sans-serif;
      padding: 6px 40px;
      border-radius: 20px;
      cursor: pointer;
    }
  </style>
</head>

<body>



  <div id='learn_path_div' class='center_div'>


    <div class='head_learn center_div'>

      <img src='img/learnlogo.PNG'>

      <h1>Learning Paths</h1>

      <h4> Guided paths to expand your abilites as a well-rounded engineer!</h4>

    </div>



    <hr style='width:900px; color: rgb(235, 231, 231);'>


    <div id='lp_parent'>


    </div>

  </div>










</body>

</html>

<script>


  async function getdata_lp() {
    response = await fetch('http://localhost:5000/api/learningPath')

    data = await response.json()
   
    appendCourseType(data)
    return data

  }

  getdata_lp()

  let counter = 0;
  lp_parent = document.getElementById('lp_parent')

  function appendCourseType(dataarr) {

    dataarr.forEach(item => {

      div = document.createElement('div')

      outer_circle = document.createElement('div')
      outer_circle.setAttribute('class', 'out_circle')
      inner_circle = document.createElement('div')
      inner_circle.setAttribute('class', 'in_circle')
      
      pc=document.createElement('p')
      pc.innerText=counter + "%"

      inner_circle.append(pc)
      outer_circle.append(inner_circle)

     

      h2 = document.createElement('h2')
      h2.innerHTML = item.coursetype


      p = document.createElement('p')
      p.innerHTML = item.about

      div2 = document.createElement('div')
      startbtn = document.createElement('button')
      startbtn.onclick = () => {
        openCourses(item)
      }

      startbtn.innerText = 'start'
      div2.append(h2, p, startbtn)
      div2.setAttribute('class', 'cont')
      div.append(outer_circle, div2)

      lp_parent.append(div)
    });






  }



function openCourses(item){

 

 console.log(item)
 
 localStorage.setItem('course_l', JSON.stringify(item))
  
  window.location.href='corecourse.html'

}
</script>